/*******************************************************************************                                     
  *                              fengye5340@163.com                      
  ******************************************************************************
  * 文件名称：SYSTICK_429ZIT6.C
  * 描    述：系统滴答定时器--实现系统精确延时
  * 创 建 者: fengye5340
  * 创建日期: 2014-03-05    
  * 修 改 者:             
  * 修改日期: 2014-03-05    
  * 版    本: v1.0.0
  ******************************************************************************
  * attention
  *
  ******************************************************************************
  */
/*Includes --------------------------------------------------------------------*/
#include "includes.h"
#include "SYSTICK_429ZIT6.H"
/* 类型定义 typedef-----------------------------------------------------------*/
/* 预定义字符     ------------------------------------------------------------*/
/* 宏定义        -------------------------------------------------------------*/
/* 变量定义          ---------------------------------------------------------*/ 

static __IO uint32_t TimingDelay; // 延时STM32风格变量定义

/*******************************************************************************
* 函数名称: Systick_Init();
* 功能描述: 滴答定时器初始化
* 输入参数: void
* 返回参数: 无
********************************************************************************/
void Systick_Init(void)
{    
	  
    if (SysTick_Config(SystemCoreClock / 1000))  //延时100毫秒
    { 
     /* Capture error */ 
      while (1);
    }
		
   
}
/*******************************************************************************
* 函数名称: Delay_ms()
* 功能描述: 延时函数--实现毫秒级系统延时
* 输入参数: nTime
* 返回参数: 无
********************************************************************************/
void Delay_ms( unsigned long nTime )
{ 
     TimingDelay = nTime;

     while(TimingDelay != 0);
}

/*******************************************************************************
* 函数名称: TimingDelay_Decrement()
* 功能描述: 毫秒递减计数器
* 输入参数: void
* 返回参数: 无
********************************************************************************/
void TimingDelay_Decrement(void)
{
    if (TimingDelay != 0x00)
    { 
        TimingDelay --;
    }
}











